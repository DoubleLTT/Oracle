## 实验4报告文档

### 1.实验内容：
了解Oracle表和视图的概念，学习使用SQL语句Create Table创建表，
学习Select语句插入，修改，删除以及查询数据，学习使用SQL语句创建视图，
学习部分存储过程和触发器的使用。

### 2.实验过程：

- 新建部门表DEPARTMENTS，表空间：USERS

```sql
  CREATE TABLE "LTT"."DEPARTMENTS" 
   (	"DEPARTMENT_ID" NUMBER(6,0) NOT NULL ENABLE, 
	"DEPARTMENT_NAME" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "DEPARTMENTS_PK" PRIMARY KEY ("DEPARTMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" ;
```

- 新建员工表EMPLOYEES,表空间：USERS

```sql
CREATE TABLE "LTT"."EMPLOYEES" 
   (	"EMPLOYEE_ID" NUMBER(6,0) NOT NULL ENABLE, 
	"NAME" VARCHAR2(40 BYTE) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(40 BYTE), 
	"PHONE_NUMBER" VARCHAR2(40 BYTE), 
	"HIRE_DATE" DATE NOT NULL ENABLE, 
	"SALARY" NUMBER(8,2), 
	"MANAGER_ID" NUMBER(6,0), 
	"DEPARTMENT_ID" NUMBER(6,0), 
	"PHOTO" BLOB
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  TABLESPACE "USERS" 
 LOB ("PHOTO") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES ) ;
```
- 订单表ORDERS与订单详单表ORDER_DETAILS在上一个实验中已创建。

- 查询数据：
    1.查询某个员工的信息
    2.递归查询某个员工及其所有下属，子下属员工。
    3.查询订单表，并且包括订单的订单应收货款: (订单详单表.ProductNum*订单详单表.ProductPrice)- Discount。
    4.查询订单详表，要求显示订单的客户名称和客户电话，产品类型用汉字描述。
    5.查询出所有空订单，即没有订单详单的订单。
    6.查询部门表，同时显示部门的负责人姓名。
    7.查询部门表，统计每个部门的销售总金额。



## 实验总结

